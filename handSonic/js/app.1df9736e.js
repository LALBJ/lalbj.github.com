(function(e){function t(t){for(var s,a,c=t[0],o=t[1],h=t[2],l=0,u=[];l<c.length;l++)a=c[l],Object.prototype.hasOwnProperty.call(i,a)&&i[a]&&u.push(i[a][0]),i[a]=0;for(s in o)Object.prototype.hasOwnProperty.call(o,s)&&(e[s]=o[s]);d&&d(t);while(u.length)u.shift()();return r.push.apply(r,h||[]),n()}function n(){for(var e,t=0;t<r.length;t++){for(var n=r[t],s=!0,c=1;c<n.length;c++){var o=n[c];0!==i[o]&&(s=!1)}s&&(r.splice(t--,1),e=a(a.s=n[0]))}return e}var s={},i={app:0},r=[];function a(t){if(s[t])return s[t].exports;var n=s[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=s,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)a.d(n,s,function(t){return e[t]}.bind(null,s));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],o=c.push.bind(c);c.push=t,c=c.slice();for(var h=0;h<c.length;h++)t(c[h]);var d=o;r.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},5309:function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var s=n("7a23");function i(e,t,n,i,r,a){var c=Object(s["w"])("router-view");return Object(s["q"])(),Object(s["c"])(c)}var r={name:"App"},a=n("6b0d"),c=n.n(a);const o=c()(r,[["render",i]]);var h=o,d=n("6c02"),l={class:"container-fluid text-center"},u=Object(s["f"])("h1",{class:"display-3my-5"},"欢迎来到元宇宙",-1),p={class:"d-flex justify-content-center align-items-center"};function f(e,t,n,i,r,a){var c=Object(s["w"])("Scene");return Object(s["q"])(),Object(s["e"])("div",l,[u,Object(s["f"])("div",p,[Object(s["g"])(c)])])}var b=function(e){return Object(s["t"])("data-v-622ad728"),e=e(),Object(s["r"])(),e},m={class:"position-relative scene",ref:"scene"},v={key:0,class:"position-absolute w-100 h-100 bg-dark d-flex justify-content-center align-items-center"},g={class:"w-50"},w=b((function(){return Object(s["f"])("p",{class:"lead text-light mb-2"},"载入中",-1)})),j={class:"progress"};function O(e,t,n,i,r,a){return Object(s["q"])(),Object(s["e"])("div",m,[r.flag?Object(s["d"])("",!0):(Object(s["q"])(),Object(s["e"])("div",v,[Object(s["f"])("div",g,[w,Object(s["f"])("div",j,[Object(s["f"])("div",{class:"bg-info text-dark",role:"progress",style:Object(s["m"])("width:".concat(r.progress,"%;"))},Object(s["y"])(r.progress)+"% ",5)])])]))],512)}n("d81d");var y=n("5a89"),S=n("4721"),x=n("34ad"),P=n("0c12"),M={name:"Scene",data:function(){return{publicPath:"/",progress:0,flag:!1}},methods:{init:function(){var e=this;this.scene=new y["Gb"],this.scene.background=new y["k"](0),this.renderer=new y["dc"]({antialias:!0}),this.renderer.setSize(this.$refs.scene.clientWidth,this.$refs.scene.clientHeight),this.renderer.toneMapping=y["Eb"],this.renderer.toneMappingExposure=3,this.renderer.shadowMap.enabled=!0,this.$refs.scene.appendChild(this.renderer.domElement);var t=this.$refs.scene.clientWidth/this.$refs.scene.clientHeight;this.camera=new y["rb"](15,t,.1,1e3),this.camera.rotation.y=.5*Math.PI,this.camera.position.set(-20,60,-150),this.controls=new S["a"](this.camera,this.renderer.domElement),this.controls.update();var n=new y["A"](16772785,526368,2);this.scene.add(n),this.spotLight=new y["Mb"](16755036,4),this.spotLight.castShadow=!0,this.spotLight.shadow.bias=-1e-4,this.spotLight.shadow.mapSize.width=1e4,this.spotLight.shadow.mapSize.height=1e4,this.scene.add(this.spotLight),this.composer=new P["b"](this.renderer),this.composer.addPass(new P["d"](this.scene,this.camera));var s=new P["c"](this.camera,new P["a"]({intensity:3,luminanceThreshold:8.8,width:100,height:100}));this.composer.addPass(s);var i=new y["U"];i.onProgress=function(t,n,s){e.progress=n/s*100,n/s*100===100&&(console.log("ddd"),setTimeout((function(){e.flag=!0}),1e3))};var r=new x["a"](i);r.load("".concat(this.publicPath,"models/miku/scene.gltf"),(function(t){var n=t.scene.children[0];n.scale.set(1,1,1),n.translateY(20),n.traverse((function(e){e.isMesh&&(e.receiveShadow=!0,e.castShadow=!0,e.material.map&&(e.material.map.anisotropy=100))})),e.scene.add(n),e.animate()}))},animate:function(){requestAnimationFrame(this.animate),this.controls.update(),this.spotLight.position.set(this.camera.position.x+5,this.camera.position.y+5,this.camera.position.z+5),this.composer.render()},onCanvasResize:function(){this.camera.aspect=this.$refs.scene.clientWidth/this.$refs.scene.clientHeight,this.camera.updateProjectionMatrix(),this.renderer.setSize(this.$refs.scene.clientWidth,this.$refs.scene.clientHeight),this.composer.setSize(this.$refs.scene.clientWidth,this.$refs.scene.clientHeight)}},mounted:function(){window.addEventListener("resize",this.onCanvasResize,!1),this.init()}};n("fa4e");const $=c()(M,[["render",O],["__scopeId","data-v-622ad728"]]);var k=$,z={name:"Home",components:{Scene:k}};const L=c()(z,[["render",f]]);var _=L,E=[{path:"/",component:_,meta:{title:"元宇宙"}}],H=Object(d["a"])({history:Object(d["b"])("/"),routes:E});H.beforeEach((function(e,t,n){document.title=e.meta.title,n()}));var q=H;n("ab8b");Object(s["b"])(h).use(q).mount("#app")},fa4e:function(e,t,n){"use strict";n("5309")}});
//# sourceMappingURL=app.1df9736e.js.map